---
layout: post
category: "machinelearning"
title:  "【3-2】机器学习（ML）策略（2）"
tags: [python, machine learning]
---

<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

### 目录

- TOC
{:toc}

---

### 进行误差分析

* 误差分析：人工检查一下你的算法犯的错误，可以了解接下来应该做什么
* 例子：猫识别
	* 准确率90%，错误率10%。注意到有的狗的图片被错误识别为猫，是否应该花时间处理狗识别错误这个问题？
	* 做法：收集100个开发集样本，手动检查，数出总共有多少个样本是狗。
	* 假如5%是狗：如果花时间解决，错误率从10%下降到9.5%，错误率相对下降5%。此时改进并不是很大。
	* 假如50%是狗：如果花时间捷俊，错误率从10%可能下降到5%。此时可以花时间解决这个。![](http://www.ai-start.com/dl2017/images/a1e634aa2ebe9336bf161f10d676928f.png)
	* 对于算法改进的性能上限是多少，最好能到哪里，完全解决狗的问题有多少帮助。
* 同时评估多个想法：
	* 上面是说错误来自于把狗识别为猫
	* 假如同时存在其他的可能性的呢？比如猫科动物的错误识别，图像模糊等
	* 做法：**通过错误分析同时评估这些个想法。**
	* 具体：建立一个表格，对于想要过的数据集，一个个的看，看是否存在潜在想法的对于，对应就对应栏目+1，最后**统计出算法在这个数据集上，每一个想法的错误的百分比**。基于此，就知道哪个想法所占的错误比例最大，也是最有可能在进行改进后提升模型效果的。![](http://www.ai-start.com/dl2017/images/d8f6d23ebbf3031932034f29f1630dc2.png)
* 中途添加新的想评估的想法：
	* 在人工看每个数据集的时候，有时候会出现新的错误原因，可以再列举出来，和其他想法一起查看
* **错误分析：通过快速统计，统计出不同错误标记类型占总数的百分比，可以帮助发现哪些问题需要优先解决（高低的优先级），或者为构思新优化方向提供灵感**

---

### 清除标注错误的数据

* 如果有的数据标签是错的，是否值得花时间去修正
* 分情况（训练集）：
	* **随机错误**：不用花时间修复，因为深度学习算法对于训练集中的随机错误是很健壮的，如果这些错误标注的样本离随机样本不太远
	* **系统错误**：学习算法不健壮
		* 比如一直把白色的狗标记为猫，这就回来学习的问题
* 开发集、测试集：
	* 使用错误分析，看开发集和测试集中的例子
	* 如果错误标记比例大，严重影响开发集上评估算法的能力，需要花时间去修复
	* 如果不影响评估，可不花时间去处理 

	* 例子：
	* 错误率10%，6%来自于标记出错，那么10%*6%=0.6%的错误来自于标记，其他原因占比9.4%，应该看其他的什么原因主导错误 
	* 错误率2%，0.6%来自于标记出错，其他原因1.4%。但是此时0.6%/2%=30%是由于标记出错的，此时去处理这些错误标签是值得的。![](http://www.ai-start.com/dl2017/images/fc5d8fbd1124120e01fc4287896faa44.png)
* 如何清除：
	* 同时修正开发集和测试集：保证来自于统一分布
	* 同时检验算法判断正确和错误的样本
	* 训练集数据与开发集或者测试集稍微不同，也没关系，模型是比较健壮的 ![](http://www.ai-start.com/dl2017/images/9d5b710121594f5a1e1bc5e901be52a8.png)

---

### 快速搭建第一个系统进行迭代

* 快速建立系统：
	* 设立开发集、测试集和评估指标：决定了目标所在，即使目标定错了，也是可以后面更改的
	* 训练集进行训练：看效果，理解算法的表现
* 意义：
	* 快速而粗糙的实现
	* 确定偏差方差范围
	* 错误分析：确定优化方向 ![](http://www.ai-start.com/dl2017/images/4307a97cb4f2e2d6abc7b8ff28b0ca87.png)

---

### 参考

* [第二周 机器学习（ML）策略（2）](http://www.ai-start.com/dl2017/html/lesson3-week2.html)

---




